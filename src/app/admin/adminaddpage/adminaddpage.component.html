<div class="product-form-wrapper">
  <h3>Product Details</h3>
  <form [formGroup]="productForm" (ngSubmit)="onSubmit()">
    <!-- Product Name -->
    <div class="form-group">
      <label for="productName">Product Name *</label>
      <input type="text" id="productName" formControlName="productName" class="form-control"
        placeholder="Enter product name" />
      <div *ngIf="productForm.get('productName')?.touched && productForm.get('productName')?.invalid">
        <small class="text-danger">Product Name is required.</small>
      </div>
    </div>

    <!-- Product Price -->
    <div class="form-group">
      <label for="productPrice">Product Price *</label>
      <input type="number" id="productPrice" formControlName="productPrice" class="form-control"
        placeholder="Enter product price" />
      <div *ngIf="productForm.get('productPrice')?.touched && productForm.get('productPrice')?.invalid">
        <small class="text-danger">Product Price is required and must be greater than 0.</small>
      </div>
    </div>

    <!-- Product Category -->
    <div class="form-group">
      <label for="productCategoryId">Product Category *</label>
      <select id="productCategoryId" formControlName="productCategoryId" class="form-control">
        <option value="" disabled selected>Select a category</option>
        <option *ngFor="let category of categoriesList" [value]="category.id">
          {{ category.category_name }}
        </option>
      </select>
      <div *ngIf="productForm.get('productCategoryId')?.touched && productForm.get('productCategoryId')?.invalid">
        <small class="text-danger">Category is required.</small>
      </div>
    </div>

    <!-- Product Code -->
    <div class="form-group">
      <label for="productCode">Product Code *</label>
      <input type="text" id="productCode" formControlName="productCode" class="form-control"
        placeholder="Enter product code" />
      <div *ngIf="productForm.get('productCode')?.touched && productForm.get('productCode')?.invalid">
        <small class="text-danger">Product Code is required.</small>
      </div>
    </div>

    <!-- Product Description -->
    <div class="form-group description-wrapper">
      <label for="productDescription">Product Description *</label>
      <div class="description-input-container">
        <textarea id="productDescription" formControlName="productDescription" class="form-control description-input"
          placeholder="Enter product description" rows="3"></textarea>
        <button type="button" class="btn btn-light add-btn" (click)="onAddDescription()">
          +
        </button>
      </div>
      <div *ngIf="productForm.get('productDescription')?.touched && productForm.get('productDescription')?.invalid">
        <small class="text-danger">Product Description is required.</small>
      </div>
    </div>

    <!-- Temporary Description List -->
    <div class="temporary-descriptions" *ngIf="temporaryDescriptions.length > 0">

      <li *ngFor="let desc of temporaryDescriptions; let i = index">
        {{ desc }}
      </li>

    </div>



    <!-- Image Upload -->
    <div class="form-group">
      <label for="imageInput">Upload Product Image *</label>
      <input type="file" id="imageInput" class="form-control-file" (change)="onFileChange($event)" />
      <div *ngIf="!selectedFile && productForm.touched">
        <small class="text-danger">Product Image is required.</small>
      </div>
    </div>

    <!-- Image Preview -->
    <div class="form-group" *ngIf="imagePreview">
      <label>Image Preview:</label>
      <div class="image-container">
        <img [src]="imagePreview" alt="Image Preview" class="img-preview" />
      </div>
    </div>

    <!-- Buttons -->
    <div class="button-group">
      <button type="submit" class="btn btn-primary" [disabled]="productForm.invalid">Submit</button>
      <button type="button" class="btn btn-secondary" (click)="onCancel()">Cancel</button>
    </div>
  </form>
</div>